# 项目部署配置说明

## 概述

本文档说明如何将项目部署到生产环境，并配置高德地图API的域名白名单。

## 🚀 部署步骤

### 1. 构建生产版本

```bash
# 安装依赖
npm install

# 构建生产版本
npm run build
```

### 2. 部署到服务器

将 `dist` 文件夹的内容上传到您的服务器，例如：
- **Nginx**: 配置静态文件服务
- **Apache**: 配置虚拟主机
- **Vercel**: 直接拖拽 `dist` 文件夹
- **Netlify**: 连接GitHub仓库自动部署

### 3. 配置HTTPS

确保您的生产环境使用HTTPS协议，例如：
- `https://yourdomain.com`
- `https://your-app.vercel.app`
- `https://your-app.netlify.app`

## 🔑 高德地图API配置

### 1. 登录高德开放平台

访问 [高德开放平台](https://lbs.amap.com/) 并登录您的账户。

### 2. 配置应用域名

1. **进入应用管理**
   - 找到您创建的应用
   - 点击"编辑"按钮

2. **添加域名白名单**
   ```
   生产域名: https://yourdomain.com
   测试域名: https://yourdomain.com:3000 (可选)
   ```

3. **保存配置**
   - 点击"保存"按钮
   - 等待配置生效（通常需要几分钟）

### 3. 验证API密钥

确保您的 `.env` 文件包含正确的API密钥：

```env
VITE_AMAP_API_KEY=0fb5d87638e5795456ea5e88afaac073
```

## 📱 功能验证

部署完成后，验证以下功能：

### 天气组件
- ✅ 显示真实天气数据（不再是模拟数据）
- ✅ 支持城市搜索
- ✅ 位置定位功能正常

### 时钟组件
- ✅ 数字时钟显示正确
- ✅ 模拟时钟指针转动
- ✅ 秒表功能正常
- ✅ 世界时钟显示准确

## 🔧 常见问题

### 1. 天气数据仍显示模拟数据

**原因**: 域名未添加到白名单或API密钥配置错误

**解决方案**:
1. 检查高德开放平台域名配置
2. 确认API密钥正确
3. 等待配置生效（最多10分钟）

### 2. 位置定位失败

**原因**: HTTPS环境或权限问题

**解决方案**:
1. 确保使用HTTPS协议
2. 检查浏览器位置权限
3. 确认高德地图API已正确加载

### 3. 控制台错误

**常见错误**:
```
高德地图API未加载
获取天气数据失败
```

**解决方案**:
1. 检查网络连接
2. 确认API密钥有效
3. 检查域名白名单配置

## 🌐 推荐部署平台

### Vercel (推荐)
- 自动HTTPS
- 全球CDN
- 自动部署
- 免费额度充足

### Netlify
- 自动HTTPS
- 表单处理
- 函数支持
- 免费额度充足

### 阿里云/腾讯云
- 国内访问速度快
- 高德API兼容性好
- 需要配置HTTPS证书

## 📋 部署检查清单

- [ ] 项目构建成功
- [ ] 部署到HTTPS环境
- [ ] 配置高德API域名白名单
- [ ] 验证天气功能正常
- [ ] 验证时钟功能正常
- [ ] 检查控制台无错误
- [ ] 测试移动端访问

## 🎯 性能优化

### 1. 静态资源优化
- 启用Gzip压缩
- 配置CDN加速
- 优化图片资源

### 2. 缓存策略
- 设置适当的缓存头
- 使用浏览器缓存
- 配置API缓存

### 3. 监控和分析
- 添加Google Analytics
- 配置错误监控
- 设置性能监控

## 📞 技术支持

如果在部署过程中遇到问题，可以：

1. **查看控制台错误**: 打开浏览器开发者工具
2. **检查网络请求**: 查看Network标签页
3. **验证API配置**: 确认高德开放平台设置
4. **联系技术支持**: 提供详细的错误信息

---

部署完成后，您的天气组件将显示真实的天气数据，时钟组件将提供完整的时间功能！🎉







